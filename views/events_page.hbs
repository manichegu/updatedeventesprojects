<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Document</title>
    <link rel="stylesheet" href="/static/css/events_page.css">
  </head>
  <body>
{{> header }}
<section class="row  m-0">
{{!-- <h1>Tickets cards</h1> --}}
<ul>
{{#each data}}
   
    <section class="col-lg-3  m-0">
    <form action="/events" method="post" class="zoom p-2" style="font-size:small">


  <li class="booking-card" style="background-image: url(../uploads/{{this.event_poster}})">
  <div class="p-1" style="background-color:#141e30; border-radius:0px 0px 8px 8px; width:40px;  position:relative; left:70%; color:white">
    <h3 class="p-0 m-0 my-2">{{this.event_marks}}</h3>
  </div>
    <div class="book-container">
      <div class="content">
        <button class="btn p-0" ><a class="m-0 " href="{{this.link_to_event_details}}" style="color:white;  text-decoration: none; padding:20px 20px 20px 20px;" target="_blank">Know More</a></button>
      </div>
    </div>
    <div class="informations-container" style="background-color:#141e30; color:white;">
      <h2 class="title " ><input class="text-center fs-6" name="event_name" style="background:transparent; border:none; color:white; outline:none;" type="text" value="{{this.event_name}}" readonly></h2>
      <div style="display: flex; justify-content: center; ">
      <i class="fa fa-calendar-o fa-lg mt-2 me-2" aria-hidden="true"></i><p  id="startdate{{@index}}" class="date">{{this.start_date}}</p>
      </div>
      <p class="sub-title" style="font-size:small">{{this.sub_category}}</p>
      <p class="sub-title">{{this.main_category}}</p>
 <div class="more-information">
        <div class="info-and-date-container">
          <div class="box info">
            <p style="color:#141e30;">Find Group</p>
            <button  style="background:none; border:none; width:100%;"  type="submit" name="action" value="findinterest_submit"><img src="../uploads/puzzle.png"  style="color:rgb(20, 30, 48); width:50px;"></button>
            {{!-- <svg class="icon" style="width:24px;height:24px" viewBox="0 0 24 24">
      <path fill="currentColor" d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z" />
  </svg> --}}
            {{!-- <button id="submit{{@index}}" style="background:none; border:none; width:100%;" type="submit" name="action" value="findinterest_submit"><i class="fa fa-eye-slash fa-4x mb-2" aria-hidden="true" style="color:#141e30;"></i></button> --}}
          </div>
          <div class="box date">
            <p style="color:#141e30;">Your Interest</p>
            <button id="submit{{@index}}" style="background:none; border:none; width:100%;" type="submit" name="action" value="interest_submit"><i class="fa fa-eye-slash fa-4x mb-2 zoom" aria-hidden="true" style="color:#141e30;"></i></button>
          </div>
        </div>
        <div style="display:none;">
        <div id="rollnolist{{@index}}" style="display: inline-block;">{{#each this.intrested_students_more}}{{this.rollno}} {{/each}}</div>
        </div>
      
        {{!-- <button id="submit{{@index}}" style="background:none; border:none; width:100%;" type="submit"><i class="fa fa-eye fa-5x" aria-hidden="true" style="color:white;"></i></button> --}}
        </div>


      
      {{!-- <p class="price"><svg class="icon" style="width:24px;height:24px" viewBox="0 0 24 24">
    <path fill="currentColor" d="M3,6H21V18H3V6M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M7,8A2,2 0 0,1 5,10V14A2,2 0 0,1 7,16H17A2,2 0 0,1 19,14V10A2,2 0 0,1 17,8H7Z" />
</svg>De 0 à 15 €</p> --}}
     
    </div>
  </li>



 {{!-- <button id="submit{{@index}}" type="submit"><i class="fa fa-eye fa-5x" aria-hidden="true" style="color:#141e30;"></i></button> --}}

      {{!-- <div style="width:100%; height:40%;">
        asdfghjkl
      </div>
    <p>Event name:<input  name="event_name" type="text" value="{{this.event_name}}" readonly></p>
    <p>Max participants:{{this.event_name}}</p>
    <p>Main category:{{this.main_category}}</p>
    <p>sub category:{{this.sub_category}}</p>
    <p>Start date:{{dateFormat}}</p>
    <p>Event points:{{this.event_marks}}</p>
    <p>Link to event details{{this.link_to_event_details}}</p> --}}
   {{!-- <button id="submit{{@index}}" style="background:none; border:none; width:100%;" type="submit"><i class="fa fa-eye fa-5x" aria-hidden="true" style="color:#141e30;"></i></button> --}}


{{!-- {{#if (one===two)}}
  The values are equal.
{{else}}
  The values are not equal.
{{/if}} --}}

    {{!-- <hr> --}}
    </form>
    </section>
{{/each}}
</ul>
</section>



<div style="display:none;">
<h1 id="totalnoofevents">{{totalnoofevents}}</h1>
<h1 id="student_rollno">{{check_student.rollno}}</h1>
</div>





    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/ac0eb1b1c0.js" crossorigin="anonymous"></script>
    <script>
       /* Handlebars.registerHelper('ifCond', function(v1, v2, options) {
            for(int i=0;i<v1.length;i++){
               if(v1[i]===v2) {
    return options.fn(this);
  }
  else{
  return options.inverse(this);
  }
            }
  

});


Handlebars.registerHelper('isdefined', function (value1,value2) {
  console.log(value1);
  console.log(value2);
  return value !== undefined;
});


Handlebars.registerHelper('isEqual', function (value1, value2) {
  return value1 === value2;
});*/

const totalnoofevents=document.getElementById("totalnoofevents").textContent;
//console.log(Number(totalnoofevents));
for(var i=0;i<totalnoofevents;i++){
  console.log(document.getElementById("rollnolist"+i).textContent);
  //document.getElementById("rollnolist"+i).innerHTML = document.getElementById("rollnolist"+i).innerHTML.replace(/[\n\r]/g,'');
  var rollnolist=document.getElementById("rollnolist"+i).textContent.split(' ');
  var student_rollno=document.getElementById("student_rollno").textContent;
  var rollno_status=0;
  console.log(rollnolist);
  for(var j=0;j<rollnolist.length;j++){
    if(rollnolist[j]==student_rollno){
      rollno_status=1;
      console.log("ssssssssssssss");
      
      break;
    }
  }
  if(rollno_status==1){
    document.getElementById("submit"+i).innerHTML=`<i class="fa fa-eye fa-4x" aria-hidden="true" style="color:#141e30;"></i>`;
  }


  var date=document.getElementById("startdate"+i).textContent;

  document.getElementById("startdate"+i).textContent=date.slice(0,15);
}





    </script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
  </body>
</html>